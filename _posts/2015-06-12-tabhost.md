---
layout: default
title: TabHost的使用
---




##FragmentTabHost的介绍
自从Fragment出现之后之前的做法就开始过期了，更何况现在Android 5.0都出来了，而且还有兼容包可以使得低版本同样能使用Fragment，而和Fragment搭配使用的就是FragmentTabHost了。  
布局文件变化不大，只是tabHost标签变成FragmentTabHost而已:  
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v4.app.FragmentTabHost 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="match_parent"
    android:layout_height="match_parent" &gt;
    &lt;LinearLayout 
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"&gt;
        &lt;FrameLayout 
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:id="@android:id/tabcontent"&gt;
        &lt;/FrameLayout&gt;
        
        &lt;TabWidget 
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@android:id/tabs"&gt;
        &lt;/TabWidget&gt;
    &lt;/LinearLayout&gt;
&lt;/android.support.v4.app.FragmentTabHost&gt;
</pre>
然后在代码中的处理:  
<pre>
public class MainFragmentActivity extends FragmentActivity
{
	private FragmentTabHost tabHost;
	@Override
	protected void onCreate(Bundle arg0)
	{
		// TODO Auto-generated method stub
		super.onCreate(arg0);
		setContentView(R.layout.tabmaintabs);
		
		tabHost=(FragmentTabHost) findViewById(android.R.id.tabhost);
		tabHost.setup(this, getSupportFragmentManager(), android.R.id.tabcontent);
		
		tabHost.addTab(tabHost.newTabSpec("fragment1").setIndicator("Tab1"), Fragment1.class, null);
		tabHost.addTab(tabHost.newTabSpec("fragment2").setIndicator("Tab2"), Fragment2.class, null);
	}

}
</pre>
同样在Fragment1或者Fragment2中的布局同样是FragmentTabHost的话就可以实现二级菜单，而且全程都是用Fragment。